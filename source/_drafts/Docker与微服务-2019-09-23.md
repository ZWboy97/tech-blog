---
title: Docker与微服务
date: 2019-09-23 14:25:37
tags: 
- Docker
- 微服务
categories: [技术]
---

> 背景知识

### 背景
##### 1. 为何要微服务
- 软件系统的复杂性越来越高
- 软件交付和更新频率要越来越快
- 开发，测试，维护的成本越来越复杂
##### 2. 单体架构
定义：功能、业务集中在一个发布包里，部署运行在统一个进程中。
优势：易于开发，测试和部署，水平伸缩
挑战：代码膨胀，难以维护，开发人员需要了解全局。构建时间长，交付周期长。新人上手困难。
##### 3. 微服务是什么
- 定义：一套小服务组成应用，每个服务独立进程，采用轻量级的通信机制，自动化部署。
- 多微才是微：代码量？开发时间？NO，没有固定的标准
- 需要遵循一些标准
 - 单一职责
 - 轻量级通信
 - 隔离性
 - 有自己的数据
 - 技术多样性（可以多种技术或者语言开发）
- 优势
 - 独立性（独立数据库，独立扩展，独立部署）
 - 敏捷性
 - 技术栈灵活
- 不足
 - 额外的工作（服务拆分）
 - 数据一致性

##### 4. 微服务之间如何通信
- REST API
- RPC（dubbo，grpc，thrift...）
 - I/O,线程调度模式，序列化方式，多语言支持，
 - dubbo阿里，dubbox当当
 - Grpc谷歌
 - Motan新浪
 - Thrift Apatch
- MQ 消息队列来实现订阅


##### 5. 微服务如何发现彼此
Dubbo，Zookeeper
- 本质：IP+端口的方式，让调用端知道服务所在的IP和端口
- 服务发现的两种实现方式 
 - 客户端发现
 - 服务端发现

##### 6. 微服务如何部署？更新？扩容
- 服务编排


### 总结
内容